<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Sambel Simple - Toko Sambal Online</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      background: #f5f5f5;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Header */
    .header {
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .header-top {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 10px 0;
      text-align: center;
      font-size: 14px;
    }
    .header-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 5%;
      max-width: 1400px;
      margin: 0 auto;
    }
    .logo {
      font-size: 24px;
      font-weight: bold;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      white-space: nowrap;
    }
    .search-bar {
      flex: 1;
      max-width: 600px;
      margin: 0 20px;
      position: relative;
      display: none;
    }
    .search-bar input {
      width: 100%;
      padding: 10px 45px 10px 15px;
      border: 2px solid #e2e8f0;
      border-radius: 25px;
      font-size: 14px;
      transition: 0.3s;
    }
    .search-bar input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #667eea;
      font-size: 18px;
    }
    .header-actions {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    .cart-btn {
      position: relative;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 10px 18px;
      border-radius: 25px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      white-space: nowrap;
    }
    .cart-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(245, 87, 108, 0.4);
    }
    .cart-count {
      background: white;
      color: #f5576c;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 11px;
      font-weight: bold;
      min-width: 18px;
      min-height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Navigation */
    .nav {
      background: white;
      border-top: 1px solid #e2e8f0;
      padding: 12px 5%;
      display: flex;
      justify-content: space-around;
      gap: 10px;
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .nav::-webkit-scrollbar {
      display: none;
    }
    .nav a {
      text-decoration: none;
      color: #4a5568;
      font-weight: 600;
      transition: 0.3s;
      padding: 8px 12px;
      border-bottom: 2px solid transparent;
      font-size: 14px;
      flex-shrink: 0;
    }
    .nav a:hover, .nav a.active {
      color: #667eea;
      border-bottom-color: #667eea;
    }

    /* Hero Banner */
    .hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px 5%;
      text-align: center;
    }
    .hero h1 {
      font-size: 32px;
      margin-bottom: 15px;
      line-height: 1.3;
    }
    .hero p {
      font-size: 16px;
      opacity: 0.9;
      line-height: 1.5;
    }

    /* Main Content */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 30px 5%;
    }
    .section-title {
      font-size: 24px;
      color: #2d3748;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .filter-btns {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding-bottom: 5px;
    }
    .filter-btn {
      padding: 8px 16px;
      border: 2px solid #e2e8f0;
      background: white;
      border-radius: 20px;
      cursor: pointer;
      transition: 0.3s;
      font-weight: 600;
      color: #4a5568;
      font-size: 13px;
      flex-shrink: 0;
    }
    .filter-btn:hover, .filter-btn.active {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    /* Product Grid */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    .product-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: 0.4s;
      cursor: pointer;
      position: relative;
    }
    .product-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    .product-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #f5576c;
      color: white;
      padding: 4px 8px;
      border-radius: 15px;
      font-size: 10px;
      font-weight: bold;
      z-index: 10;
    }
    .product-img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      transition: 0.4s;
    }
    .product-card:hover .product-img {
      transform: scale(1.05);
    }
    .product-info {
      padding: 15px;
    }
    .product-category {
      color: #667eea;
      font-size: 11px;
      font-weight: 600;
      margin-bottom: 5px;
    }
    .product-name {
      font-size: 15px;
      font-weight: bold;
      color: #2d3748;
      margin-bottom: 8px;
      line-height: 1.3;
      height: 38px;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }
    .product-desc {
      color: #718096;
      font-size: 12px;
      margin-bottom: 12px;
      line-height: 1.4;
      height: 34px;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }
    .product-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .product-price {
      font-size: 18px;
      font-weight: bold;
      color: #f5576c;
    }
    .product-price-old {
      font-size: 13px;
      color: #a0aec0;
      text-decoration: line-through;
      margin-left: 4px;
    }
    .add-cart-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 15px;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
      font-size: 13px;
      white-space: nowrap;
    }
    .add-cart-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    /* Payment Page Styles */
    .payment-page {
      display: none;
      max-width: 100%;
      margin: 20px auto;
      padding: 0 5%;
    }

    .payment-container {
      background: white;
      border-radius: 16px;
      padding: 25px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .back-to-shop {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: 0.3s;
      font-size: 14px;
    }

    .back-to-shop:hover {
      background: #5a67d8;
      transform: translateY(-2px);
    }

    .payment-title {
      font-size: 24px;
      color: #2d3748;
      margin-bottom: 8px;
    }

    .payment-subtitle {
      color: #718096;
      margin-bottom: 25px;
      font-size: 14px;
    }

    .order-summary {
      background: #f7fafc;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 25px;
    }

    .order-summary h3 {
      color: #2d3748;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .order-items {
      margin-bottom: 15px;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #e2e8f0;
      font-size: 14px;
    }

    .order-total {
      display: flex;
      justify-content: space-between;
      font-size: 20px;
      font-weight: bold;
      color: #2d3748;
      padding-top: 15px;
    }

    .order-total-price {
      color: #f5576c;
    }

    /* Shipping Methods */
    .shipping-methods {
      margin-bottom: 25px;
    }

    .shipping-methods h3 {
      color: #2d3748;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .shipping-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 12px;
    }

    .shipping-card {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 15px;
      cursor: pointer;
      transition: 0.3s;
      text-align: center;
    }

    .shipping-card:hover {
      border-color: #667eea;
      transform: translateY(-3px);
    }

    .shipping-card.selected {
      border-color: #667eea;
      background: rgba(102, 126, 234, 0.05);
    }

    .shipping-icon {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .shipping-name {
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 5px;
      font-size: 14px;
    }

    .shipping-price {
      font-size: 16px;
      font-weight: bold;
      color: #f5576c;
      margin-bottom: 3px;
    }

    .shipping-duration {
      font-size: 11px;
      color: #718096;
    }

    .payment-methods {
      margin-bottom: 25px;
    }

    .payment-methods h3 {
      color: #2d3748;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .method-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 12px;
    }

    .method-card {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 15px;
      cursor: pointer;
      transition: 0.3s;
      text-align: center;
    }

    .method-card:hover {
      border-color: #667eea;
      transform: translateY(-3px);
    }

    .method-card.selected {
      border-color: #667eea;
      background: rgba(102, 126, 234, 0.05);
    }

    .method-icon {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .method-name {
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 5px;
      font-size: 14px;
    }

    .method-details {
      font-size: 11px;
      color: #718096;
      line-height: 1.3;
    }

    .method-details strong {
      color: #2d3748;
      font-size: 12px;
    }

    .payment-form {
      margin-top: 25px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: #4a5568;
      font-size: 14px;
    }

    .form-group input, .form-group select, .form-group textarea {
      width: 100%;
      padding: 12px 14px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      font-size: 15px;
      transition: 0.3s;
      -webkit-appearance: none;
      appearance: none;
      font-family: inherit;
    }

    .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    .form-group textarea {
      min-height: 80px;
      resize: vertical;
    }

    .pay-button {
      width: 100%;
      background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      margin-top: 20px;
    }

    .pay-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(72, 187, 120, 0.4);
    }

    /* Payment Instructions */
    .payment-instructions {
      background: #f0f9ff;
      border-radius: 10px;
      padding: 15px;
      margin-top: 15px;
      border-left: 4px solid #667eea;
      display: none;
    }

    .payment-instructions.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .payment-instructions h4 {
      color: #2d3748;
      margin-bottom: 8px;
      font-size: 16px;
    }

    .payment-instructions ol {
      padding-left: 18px;
      margin-bottom: 12px;
    }

    .payment-instructions li {
      margin-bottom: 6px;
      color: #4a5568;
      font-size: 13px;
      line-height: 1.4;
    }

    .payment-account {
      background: white;
      padding: 12px;
      border-radius: 8px;
      margin-top: 12px;
    }

    .account-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #e2e8f0;
    }

    .account-info:last-child {
      border-bottom: none;
    }

    .account-label {
      color: #718096;
      font-size: 12px;
    }

    .account-value {
      font-weight: bold;
      color: #2d3748;
      font-size: 13px;
      text-align: right;
      max-width: 60%;
      word-break: break-all;
    }

    .copy-btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 11px;
      transition: 0.3s;
      flex-shrink: 0;
      margin-left: 10px;
    }

    .copy-btn:hover {
      background: #5a67d8;
    }

    /* WhatsApp Order Button */
    .whatsapp-button {
      width: 100%;
      background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      margin-top: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .whatsapp-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
    }

    .whatsapp-icon {
      font-size: 20px;
    }

    /* Admin Page Styles */
    .admin-page {
      display: none;
      max-width: 1400px;
      margin: 20px auto;
      padding: 0 5%;
    }

    .admin-container {
      background: white;
      border-radius: 16px;
      padding: 25px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .admin-title {
      font-size: 24px;
      color: #2d3748;
      margin-bottom: 8px;
    }

    .admin-subtitle {
      color: #718096;
      margin-bottom: 25px;
      font-size: 14px;
    }

    /* Admin Stats */
    .admin-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }

    .stat-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      text-align: center;
      border-top: 4px solid #667eea;
    }

    .stat-card.total {
      border-top-color: #667eea;
    }

    .stat-card.pending {
      border-top-color: #f59e0b;
    }

    .stat-card.paid {
      border-top-color: #10b981;
    }

    .stat-card.delivered {
      border-top-color: #8b5cf6;
    }

    .stat-value {
      font-size: 28px;
      font-weight: bold;
      color: #2d3748;
      margin-bottom: 5px;
    }

    .stat-label {
      color: #718096;
      font-size: 12px;
    }

    /* Order Table */
    .order-table-container {
      background: #f7fafc;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 25px;
    }

    .order-table-container h3 {
      color: #2d3748;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .order-table {
      width: 100%;
      border-collapse: collapse;
    }

    .order-table th {
      background: #e2e8f0;
      color: #4a5568;
      font-weight: 600;
      padding: 12px;
      text-align: left;
      border-bottom: 2px solid #cbd5e0;
      font-size: 13px;
    }

    .order-table td {
      padding: 12px;
      border-bottom: 1px solid #e2e8f0;
      color: #4a5568;
      font-size: 13px;
    }

    .order-table tr:hover {
      background: #edf2f7;
    }

    /* Status Badges */
    .status-badge {
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 11px;
      font-weight: bold;
      display: inline-block;
    }

    .status-pending {
      background: #fef3c7;
      color: #d97706;
    }

    .status-paid {
      background: #d1fae5;
      color: #059669;
    }

    .status-processing {
      background: #dbeafe;
      color: #1d4ed8;
    }

    .status-delivered {
      background: #f3e8ff;
      color: #7c3aed;
    }

    .status-cancelled {
      background: #fee2e2;
      color: #dc2626;
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .action-btn {
      padding: 5px 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 11px;
      font-weight: 600;
      transition: 0.3s;
    }

    .action-btn.mark-paid {
      background: #10b981;
      color: white;
    }

    .action-btn.mark-paid:hover {
      background: #059669;
    }

    .action-btn.mark-delivered {
      background: #8b5cf6;
      color: white;
    }

    .action-btn.mark-delivered:hover {
      background: #7c3aed;
    }

    .action-btn.delete {
      background: #ef4444;
      color: white;
    }

    .action-btn.delete:hover {
      background: #dc2626;
    }

    /* Login Modal */
    .login-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }

    .login-modal.show {
      display: flex;
    }

    .login-container {
      background: white;
      border-radius: 16px;
      padding: 25px;
      width: 100%;
      max-width: 350px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      margin: 0 20px;
    }

    .login-title {
      font-size: 22px;
      color: #2d3748;
      margin-bottom: 8px;
      text-align: center;
    }

    .login-subtitle {
      color: #718096;
      margin-bottom: 20px;
      text-align: center;
      font-size: 13px;
    }

    .login-form .form-group {
      margin-bottom: 15px;
    }

    .login-button {
      width: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 14px;
      border-radius: 25px;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      margin-top: 10px;
    }

    .login-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .login-error {
      color: #ef4444;
      font-size: 12px;
      margin-top: 10px;
      text-align: center;
      display: none;
    }

    .admin-logout-btn {
      background: #ef4444;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
      margin-top: 20px;
      width: 100%;
    }

    .admin-logout-btn:hover {
      background: #dc2626;
      transform: translateY(-2px);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Cart Sidebar */
    .cart-sidebar {
      position: fixed;
      right: -100%;
      top: 0;
      width: 100%;
      height: 100vh;
      background: white;
      box-shadow: -4px 0 12px rgba(0,0,0,0.1);
      transition: 0.4s;
      z-index: 2000;
      display: flex;
      flex-direction: column;
    }
    .cart-sidebar.open {
      right: 0;
    }
    .cart-header {
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .cart-header h2 {
      font-size: 20px;
    }
    .close-cart {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      font-size: 24px;
      cursor: pointer;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      transition: 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .close-cart:hover {
      background: rgba(255,255,255,0.3);
    }
    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      -webkit-overflow-scrolling: touch;
    }
    .cart-item {
      display: flex;
      gap: 12px;
      background: #f7fafc;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 12px;
    }
    .cart-item-img {
      width: 70px;
      height: 70px;
      object-fit: cover;
      border-radius: 8px;
      flex-shrink: 0;
    }
    .cart-item-info {
      flex: 1;
      min-width: 0;
    }
    .cart-item-name {
      font-weight: bold;
      color: #2d3748;
      margin-bottom: 4px;
      font-size: 14px;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .cart-item-price {
      color: #f5576c;
      font-weight: 600;
      font-size: 14px;
    }
    .cart-item-controls {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
    }
    .qty-btn {
      width: 28px;
      height: 28px;
      border: 2px solid #667eea;
      background: white;
      color: #667eea;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .qty-btn:hover {
      background: #667eea;
      color: white;
    }
    .qty-display {
      min-width: 20px;
      text-align: center;
      font-size: 14px;
    }
    .remove-btn {
      margin-left: auto;
      background: #fc5c7d;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 11px;
      white-space: nowrap;
    }
    .cart-footer {
      padding: 20px;
      border-top: 2px solid #e2e8f0;
    }
    .cart-total {
      display: flex;
      justify-content: space-between;
      font-size: 18px;
      font-weight: bold;
      color: #2d3748;
      margin-bottom: 15px;
    }
    .cart-total-price {
      color: #f5576c;
    }
    .checkout-btn {
      width: 100%;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      border: none;
      padding: 14px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    .checkout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
    }

    /* Cart Overlay */
    .cart-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      opacity: 0;
      visibility: hidden;
      transition: 0.4s;
      z-index: 1999;
    }
    .cart-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: #718096;
    }
    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 15px;
    }

    /* Notification */
    .notification {
      position: fixed;
      top: 80px;
      right: -100%;
      background: white;
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      z-index: 3000;
      transition: 0.4s;
      border-left: 4px solid #48bb78;
      max-width: calc(100% - 40px);
      width: 300px;
    }
    .notification.show {
      right: 20px;
    }
    .notification-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .notification-icon {
      font-size: 20px;
      flex-shrink: 0;
    }
    .notification-text {
      font-size: 14px;
      line-height: 1.4;
    }

    /* Floating WhatsApp Button */
    .floating-whatsapp {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: #25D366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
      transition: 0.3s;
      text-decoration: none;
    }
    .floating-whatsapp:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
    }

    /* Floating Cart Button (Mobile) */
    .floating-cart {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(245, 87, 108, 0.4);
      transition: 0.3s;
    }
    .floating-cart:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(245, 87, 108, 0.5);
    }

    .floating-cart-count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: white;
      color: #f5576c;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }

    /* Responsive Styles */
    @media (min-width: 768px) {
      .search-bar { display: block; }
      .hero h1 { font-size: 40px; }
      .hero p { font-size: 18px; }
      .cart-sidebar { width: 400px; right: -400px; }
      .product-grid { grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 25px; }
      .product-img { height: 180px; }
      .product-name { font-size: 16px; }
      .product-price { font-size: 20px; }
      .add-cart-btn { padding: 10px 18px; }
      .method-grid, .shipping-grid { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
      .notification { width: 350px; }
      .admin-stats { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
      .stat-value { font-size: 32px; }
      .order-table th, .order-table td { font-size: 14px; padding: 15px; }
    }

    @media (max-width: 767px) {
      .header-main { padding: 15px 4%; }
      .nav { padding: 10px 4%; }
      .hero { padding: 30px 4%; }
      .container { padding: 20px 4%; }
      .floating-cart { display: flex; }
      .cart-btn { display: none; }
      .payment-container { padding: 20px; }
      .admin-page, .payment-page { padding: 0 4%; margin: 15px auto; }
      .admin-container { padding: 20px; }
      .order-table { display: block; overflow-x: auto; }
    }

    @media (min-width: 1024px) {
      .product-grid { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
      .product-img { height: 200px; }
    }

    /* Touch-friendly improvements */
    button, input, select, textarea {
      font-size: 16px; /* Prevent iOS zoom on focus */
    }

    /* Hide scrollbar but keep functionality */
    .scrollable {
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .scrollable::-webkit-scrollbar {
      display: none;
    }

    /* Loading Spinner */
    .loading-spinner {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.9);
      z-index: 4000;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .loading-spinner.show {
      display: flex;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #e2e8f0;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* TAMBAHAN BARU - Rating Stars */
    .product-rating {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 8px;
    }
    
    .stars {
      color: #fbbf24;
      font-size: 12px;
    }
    
    .rating-count {
      color: #718096;
      font-size: 11px;
    }
    
    /* TAMBAHAN BARU - Stock Indicator */
    .product-stock {
      font-size: 11px;
      margin-bottom: 8px;
    }
    
    .stock-in {
      color: #10b981;
    }
    
    .stock-low {
      color: #f59e0b;
    }
    
    .stock-out {
      color: #ef4444;
    }
    
    /* TAMBAHAN BARU - Discount Badge */
    .discount-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #f5576c;
      color: white;
      padding: 4px 8px;
      border-radius: 15px;
      font-size: 10px;
      font-weight: bold;
      z-index: 10;
    }
    
    /* TAMBAHAN BARU - Quick View Button */
    .quick-view-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.9);
      padding: 10px 15px;
      border-radius: 20px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.3s;
      white-space: nowrap;
      font-size: 12px;
    }
    
    .product-card:hover .quick-view-btn {
      opacity: 1;
    }
    
    /* TAMBAHAN BARU - Product Modal */
    .product-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      padding: 20px;
    }
    
    .product-modal.show {
      display: flex;
    }
    
    .modal-content {
      background: white;
      border-radius: 16px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
    }
    
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(0,0,0,0.1);
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* TAMBAHAN BARU - Featured Products */
    .featured-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 4px 8px;
      border-radius: 15px;
      font-size: 10px;
      font-weight: bold;
      z-index: 10;
    }
    
    /* TAMBAHAN BARU - Categories */
    .categories {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 15px 0;
      margin-bottom: 20px;
    }
    
    .category-card {
      flex: 0 0 auto;
      width: 100px;
      height: 100px;
      background: white;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      transition: 0.3s;
      padding: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .category-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .category-card.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    .category-icon {
      font-size: 24px;
    }
    
    .category-name {
      font-size: 12px;
      font-weight: 600;
      text-align: center;
    }
    
    /* TAMBAHAN BARU - Promo Banner */
    .promo-banner {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      margin: 20px 0;
      text-align: center;
    }
    
    .promo-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 8px;
    }
    
    .promo-text {
      font-size: 14px;
      opacity: 0.9;
    }
    
    /* TAMBAHAN BARU - Testimonials */
    .testimonials {
      margin-top: 40px;
    }
    
    .testimonial-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .testimonial-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    
    .testimonial-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 15px;
    }
    
    .testimonial-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
    }
    
    .testimonial-name {
      font-weight: bold;
      color: #2d3748;
    }
    
    .testimonial-date {
      color: #718096;
      font-size: 11px;
    }
    
    .testimonial-text {
      color: #4a5568;
      font-size: 14px;
      line-height: 1.5;
    }
    
    /* TAMBAHAN BARU - FAQ Section */
    .faq-section {
      margin-top: 40px;
    }
    
    .faq-item {
      background: white;
      border-radius: 12px;
      margin-bottom: 12px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .faq-question {
      padding: 15px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      color: #2d3748;
    }
    
    .faq-answer {
      padding: 0 15px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      color: #718096;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .faq-item.active .faq-answer {
      padding: 0 15px 15px 15px;
      max-height: 500px;
    }
    
    /* TAMBAHAN BARU - Add Testimonial Form */
    .add-testimonial {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-top: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    
    .add-testimonial h3 {
      color: #2d3748;
      margin-bottom: 20px;
      font-size: 20px;
    }
    
    .star-rating-input {
      display: flex;
      gap: 5px;
      margin-bottom: 15px;
    }
    
    .star-rating-input .star {
      font-size: 24px;
      cursor: pointer;
      color: #e2e8f0;
      transition: color 0.3s;
    }
    
    .star-rating-input .star.selected {
      color: #fbbf24;
    }
    
    .star-rating-input .star:hover {
      color: #fbbf24;
    }
    
    /* TAMBAHAN BARU - Testimonial Modal */
    .testimonial-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      padding: 20px;
    }
    
    .testimonial-modal.show {
      display: flex;
    }
    
    .testimonial-modal-content {
      background: white;
      border-radius: 16px;
      max-width: 500px;
      width: 100%;
      padding: 25px;
      position: relative;
    }
    
    .close-testimonial-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(0,0,0,0.1);
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Responsive updates */
    @media (max-width: 767px) {
      .category-card {
        width: 80px;
        height: 80px;
      }
      
      .category-icon {
        font-size: 20px;
      }
      
      .testimonial-grid {
        grid-template-columns: 1fr;
      }
    }
    
  </style>
</head>
<body>
  <!-- Header -->
  <div class="header">
    <div class="header-top">
      üå∂Ô∏è Gratis Ongkir untuk pembelian di atas Rp 100.000! | üöö Pesanan diproses dalam 24 jam
    </div>
    <div class="header-main">
      <div class="logo">üå∂Ô∏è Sambel Simple</div>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Cari sambel tongkol, sambel cumi..." />
        <span class="search-icon">üîç</span>
      </div>
      <div class="header-actions">
        <button class="cart-btn" onclick="toggleCart()">
          üõí Keranjang
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </div>
    <div class="nav">
      <a href="#" class="active" onclick="showShopPage()">Semua Produk üå∂Ô∏è</a>
      <a href="#" onclick="showPaymentPage()">Pembayaran üí≥</a>
      <a href="#" onclick="showAdminPage()">Admin üìä</a>
      <a href="#" onclick="showTestimonialModal()">üí¨ Testimoni</a>
    </div>
  </div>

  <!-- Shop Page -->
  <div id="shopPage">
    <!-- Hero -->
    <div class="hero">
      <h1>Sambel Nusantara!</h1>
      <p>Sambel tongkol & cumi premium - Pedas nikmat, bumbu meresap</p>
    </div>

    <!-- Main Content -->
    <div class="container">
      <!-- Categories -->
      <div class="categories">
        <div class="category-card active" onclick="filterProducts('all')">
          <div class="category-icon">üå∂Ô∏è</div>
          <div class="category-name">Semua</div>
        </div>
        <div class="category-card" onclick="filterProducts('Sambal')">
          <div class="category-icon">üî•</div>
          <div class="category-name">Sambal</div>
        </div>
        <div class="category-card" onclick="filterProducts('Pedas')">
          <div class="category-icon">üå°Ô∏è</div>
          <div class="category-name">Pedas</div>
        </div>
        <div class="category-card" onclick="filterProducts('Seafood')">
          <div class="category-icon">üêü</div>
          <div class="category-name">Seafood</div>
        </div>
        <div class="category-card" onclick="filterProducts('Promo')">
          <div class="category-icon">üéÅ</div>
          <div class="category-name">Promo</div>
        </div>
      </div>

      <!-- Promo Banner -->
      <div class="promo-banner">
        <div class="promo-title">üéâ PROMO SPESIAL! üéâ</div>
        <div class="promo-text">Beli 2 (500 gram) Gratis 1 Sambel Tongkol Original (200 gram) ‚Ä¢ Min. pembelian Rp 100.000</div>
      </div>

      <div class="section-title">
        <span>Menu Populer</span>
      </div>
      <div class="product-grid" id="productGrid"></div>

      <!-- Testimonials Section -->
      <div class="testimonials">
        <div class="section-title">
          <span>Testimoni Pelanggan</span>
          <button class="add-cart-btn" onclick="showTestimonialModal()" style="padding: 8px 16px; font-size: 12px;">
            ‚úçÔ∏è Tambah Testimoni
          </button>
        </div>
        <div class="testimonial-grid" id="testimonialGrid">
          <!-- Testimonials will be loaded here -->
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="faq-section">
        <div class="section-title">
          <span>FAQ - Pertanyaan Umum</span>
        </div>
        <div class="faq-list">
          <div class="faq-item" onclick="toggleFAQ(0)">
            <div class="faq-question">
              Berapa lama pengiriman?
              <span>‚ñº</span>
            </div>
            <div class="faq-answer">
              Pengiriman 1-3 hari kerja tergantung daerah. Kota besar biasanya 1-2 hari, luar kota 2-3 hari.
            </div>
          </div>
          <div class="faq-item" onclick="toggleFAQ(1)">
            <div class="faq-question">
              Apakah bisa COD?
              <span>‚ñº</span>
            </div>
            <div class="faq-answer">
              Untuk saat ini kami belum menyediakan layanan COD. Pembayaran via transfer bank atau e-wallet.
            </div>
          </div>
          <div class="faq-item" onclick="toggleFAQ(2)">
            <div class="faq-question">
              Berapa lama sambal bisa bertahan?
              <span>‚ñº</span>
            </div>
            <div class="faq-answer">
              Dalam kulkas bisa bertahan 2 minggu, freezer 1 bulan. Pastikan disimpan dalam wadah kedap udara.
            </div>
          </div>
          <div class="faq-item" onclick="toggleFAQ(3)">
            <div class="faq-question">
              Bisa request tingkat kepedasan?
              <span>‚ñº</span>
            </div>
            <div class="faq-answer">
              Bisa! Silakan tulis di catatan pesanan: tingkat pedas (rendah, sedang, tinggi, ekstra pedas).
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Page -->
  <div class="payment-page" id="paymentPage">
    <div class="payment-container">
      <button class="back-to-shop" onclick="showShopPage()">
        ‚Üê Kembali Belanja
      </button>
      
      <h1 class="payment-title">Pembayaran</h1>
      <p class="payment-subtitle">Selesaikan pembayaran untuk pesanan Anda</p>
      
      <div class="order-summary">
        <h3>Ringkasan Pesanan</h3>
        <div class="order-items" id="orderItems"></div>
        <div class="order-total">
          <span>Total Produk:</span>
          <span class="order-total-price" id="orderSubtotal">Rp 0</span>
        </div>
      </div>
      
      <!-- Shipping Methods -->
      <div class="shipping-methods">
        <h3>Pilih Pengiriman</h3>
        <div class="shipping-grid">
          <div class="shipping-card" onclick="selectShippingMethod('jne')">
            <div class="shipping-icon">üöö</div>
            <div class="shipping-name">JNE</div>
            <div class="shipping-price">Rp 15,000</div>
            <div class="shipping-duration">2-3 hari kerja</div>
          </div>
          <div class="shipping-card" onclick="selectShippingMethod('jt')">
            <div class="shipping-icon">üöõ</div>
            <div class="shipping-name">J&T</div>
            <div class="shipping-price">Rp 12,000</div>
            <div class="shipping-duration">1-2 hari kerja</div>
          </div>
        </div>
      </div>

      <div class="order-summary">
        <div class="order-total">
          <span>Ongkos Kirim:</span>
          <span class="order-total-price" id="shippingCost">Rp 0</span>
        </div>
        <div class="order-total">
          <span>Total Pembayaran:</span>
          <span class="order-total-price" id="orderTotal">Rp 0</span>
        </div>
      </div>
      
      <div class="payment-methods">
        <h3>Pilih Metode Pembayaran</h3>
        <div class="method-grid">
          <div class="method-card" onclick="selectPaymentMethod('bca')">
            <div class="method-icon">üè¶</div>
            <div class="method-name">BCA</div>
            <div class="method-details">
              <strong>123-456-7890</strong><br>
              a.n. Sambel Simple
            </div>
          </div>
          <div class="method-card" onclick="selectPaymentMethod('gopay')">
            <div class="method-icon">üì±</div>
            <div class="method-name">GoPay</div>
            <div class="method-details">
              <strong>0812-3456-7890</strong><br>
              a.n. Sambel Simple
            </div>
          </div>
        </div>
      </div>

      <!-- Payment Instructions -->
      <div class="payment-instructions" id="paymentInstructions">
        <h4>Instruksi Pembayaran</h4>
        <div id="bcaInstructions" style="display: none;">
          <ol>
            <li>Transfer ke rekening BCA: <strong>123-456-7890</strong> a.n. Sambel Simple</li>
            <li>Jumlah transfer: <strong id="bcaAmount">Rp 0</strong></li>
            <li>Setelah transfer, simpan bukti pembayaran</li>
            <li>Konfirmasi pembayaran via WhatsApp ke 0812-3456-7890</li>
            <li>Pesanan akan diproses setelah pembayaran dikonfirmasi</li>
          </ol>
          <div class="payment-account">
            <div class="account-info">
              <span class="account-label">Bank</span>
              <span class="account-value">BCA (Bank Central Asia)</span>
            </div>
            <div class="account-info">
              <span class="account-label">Nomor Rekening</span>
              <span class="account-value">123-456-7890</span>
              <button class="copy-btn" onclick="copyToClipboard('1234567890')">Salin</button>
            </div>
            <div class="account-info">
              <span class="account-label">Atas Nama</span>
              <span class="account-value">Sambel Simple</span>
            </div>
          </div>
        </div>
        
        <div id="gopayInstructions" style="display: none;">
          <ol>
            <li>Transfer ke nomor GoPay: <strong>0812-3456-7890</strong> a.n. Sambel Simple</li>
            <li>Jumlah transfer: <strong id="gopayAmount">Rp 0</strong></li>
            <li>Gunakan fitur "Kirim Uang" di aplikasi GoPay</li>
            <li>Setelah transfer, simpan bukti pembayaran</li>
            <li>Konfirmasi pembayaran via WhatsApp ke 0812-3456-7890</li>
          </ol>
          <div class="payment-account">
            <div class="account-info">
              <span class="account-label">E-Wallet</span>
              <span class="account-value">GoPay</span>
            </div>
            <div class="account-info">
              <span class="account-label">Nomor Telepon</span>
              <span class="account-value">0812-3456-7890</span>
              <button class="copy-btn" onclick="copyToClipboard('081234567890')">Salin</button>
            </div>
            <div class="account-info">
              <span class="account-label">Atas Nama</span>
              <span class="account-value">Sambel Simple</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="payment-form">
        <div class="form-group">
          <label for="customerName">Nama Lengkap *</label>
          <input type="text" id="customerName" placeholder="Masukkan nama lengkap" required>
        </div>
        <div class="form-group">
          <label for="customerPhone">Nomor WhatsApp *</label>
          <input type="tel" id="customerPhone" placeholder="Contoh: 081234567890" required>
        </div>
        <div class="form-group">
          <label for="customerAddress">Alamat Lengkap *</label>
          <textarea id="customerAddress" placeholder="Masukkan alamat lengkap: jalan, RT/RW, kelurahan, kecamatan, kota, kode pos" required></textarea>
        </div>
        <div class="form-group">
          <label for="customerNote">Catatan Pesanan (Opsional)</label>
          <textarea id="customerNote" placeholder="Contoh: tingkat kepedasan, pengemasan khusus, dll."></textarea>
        </div>
        
        <button class="pay-button" onclick="processPayment()">
          Bayar Sekarang
        </button>
        
        <button class="whatsapp-button" onclick="orderViaWhatsApp()">
          <span class="whatsapp-icon">üì±</span>
          Pesan via WhatsApp
        </button>
      </div>
    </div>
  </div>

  <!-- Admin Page -->
  <div class="admin-page" id="adminPage">
    <div class="admin-container">
      <h1 class="admin-title">Dashboard Admin</h1>
      <p class="admin-subtitle">Kelola pesanan dan pantau pembayaran</p>
      
      <!-- Admin Stats -->
      <div class="admin-stats">
        <div class="stat-card total">
          <div class="stat-value" id="totalOrders">0</div>
          <div class="stat-label">Total Pesanan</div>
        </div>
        <div class="stat-card pending">
          <div class="stat-value" id="pendingOrders">0</div>
          <div class="stat-label">Menunggu Pembayaran</div>
        </div>
        <div class="stat-card paid">
          <div class="stat-value" id="paidOrders">0</div>
          <div class="stat-label">Pembayaran Lunas</div>
        </div>
        <div class="stat-card delivered">
          <div class="stat-value" id="deliveredOrders">0</div>
          <div class="stat-label">Terkirim</div>
        </div>
      </div>
      
      <!-- Order Table -->
      <div class="order-table-container">
        <h3>Daftar Pesanan</h3>
        <table class="order-table">
          <thead>
            <tr>
              <th>ID Pesanan</th>
              <th>Nama Customer</th>
              <th>Items</th>
              <th>Total</th>
              <th>Status</th>
              <th>Tanggal</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody id="ordersTableBody">
            <!-- Orders will be populated here -->
          </tbody>
        </table>
      </div>
      
      <!-- Testimonials Management -->
      <div class="order-table-container">
        <h3>Testimoni Pelanggan</h3>
        <table class="order-table">
          <thead>
            <tr>
              <th>Nama</th>
              <th>Rating</th>
              <th>Testimoni</th>
              <th>Tanggal</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody id="testimonialsTableBody">
            <!-- Testimonials will be populated here -->
          </tbody>
        </table>
      </div>
      
      <button class="admin-logout-btn" onclick="logoutAdmin()">
        Logout Admin
      </button>
    </div>
  </div>

  <!-- Product Modal -->
  <div class="product-modal" id="productModal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeProductModal()">√ó</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Testimonial Modal -->
  <div class="testimonial-modal" id="testimonialModal">
    <div class="testimonial-modal-content">
      <button class="close-testimonial-modal" onclick="closeTestimonialModal()">√ó</button>
      <h2 style="color: #2d3748; margin-bottom: 20px;">‚úçÔ∏è Tambah Testimoni</h2>
      <p style="color: #718096; margin-bottom: 20px;">Bagikan pengalaman Anda membeli produk Sambel Simple</p>
      
      <div class="form-group">
        <label>Nama Anda</label>
        <input type="text" id="testimonialName" placeholder="Masukkan nama Anda" required>
      </div>
      
      <div class="form-group">
        <label>Rating</label>
        <div class="star-rating-input">
          <span class="star" onclick="setTestimonialRating(1)">‚òÜ</span>
          <span class="star" onclick="setTestimonialRating(2)">‚òÜ</span>
          <span class="star" onclick="setTestimonialRating(3)">‚òÜ</span>
          <span class="star" onclick="setTestimonialRating(4)">‚òÜ</span>
          <span class="star" onclick="setTestimonialRating(5)">‚òÜ</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Testimoni</label>
        <textarea id="testimonialText" placeholder="Ceritakan pengalaman Anda membeli produk kami..." rows="4" required></textarea>
      </div>
      
      <button class="pay-button" onclick="submitTestimonial()" style="margin-top: 20px;">
        Kirim Testimoni
      </button>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="login-modal" id="loginModal">
    <div class="login-container">
      <h2 class="login-title">Admin Login</h2>
      <p class="login-subtitle">Masukkan username dan password untuk mengakses dashboard</p>
      
      <div class="login-form">
        <div class="form-group">
          <label for="adminUsername">Username</label>
          <input type="text" id="adminUsername" placeholder="Masukkan username">
        </div>
        <div class="form-group">
          <label for="adminPassword">Password</label>
          <input type="password" id="adminPassword" placeholder="Masukkan password">
        </div>
        <button class="login-button" onclick="loginAdmin()">Login</button>
        <div class="login-error" id="loginError">
          Username atau password salah!
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Sidebar -->
  <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2>Keranjang Belanja</h2>
      <button class="close-cart" onclick="toggleCart()">√ó</button>
    </div>
    <div class="cart-items" id="cartItemsList"></div>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Total:</span>
        <span class="cart-total-price" id="cartTotal">Rp 0</span>
      </div>
      <button class="checkout-btn" onclick="goToPayment()">Checkout Sekarang</button>
    </div>
  </div>

  <!-- Floating WhatsApp Button -->
  <a href="https://wa.me/6281234567890?text=Halo%20Sambel%20Simple,%20saya%20ingin%20bertanya%20tentang%20produk" 
     class="floating-whatsapp" 
     target="_blank">
    üí¨
  </a>

  <!-- Floating Cart Button (Mobile) -->
  <div class="floating-cart" onclick="toggleCart()">
    üõí
    <span class="floating-cart-count" id="floatingCartCount">0</span>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <div class="notification-content">
      <span class="notification-icon">‚úÖ</span>
      <div class="notification-text" id="notificationText"></div>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div class="loading-spinner" id="loadingSpinner">
    <div class="spinner"></div>
    <p style="margin-top: 20px; color: #667eea;">Memproses...</p>
  </div>

  <script>
    // Data produk
    let products = [
      { 
        id: 1, 
        name: 'Sambel Tongkol Pedas', 
        category: 'Sambal', 
        subcategory: 'Pedas',
        price: 25000, 
        originalPrice: 30000,
        desc: 'Sambel tongkol suwir pedas dengan bumbu rempah pilihan, dibuat dari cabai merah segar dan ikan tongkol pilihan.', 
        img: 'Sambel Tongkol.jpg',
        badge: 'BEST SELLER',
        rating: 4.8,
        ratingCount: 124,
        stock: 50,
        featured: true,
        details: 'Bahan: Ikan tongkol suwir, cabai merah, bawang merah, bawang putih, kemiri, garam, gula, minyak. Berat: 250gr. Tingkat pedas: Tinggi.'
      },
      {
        id: 2, 
        name: 'Sambel Cumi Segar', 
        category: 'Sambal', 
        subcategory: 'Seafood',
        price: 35000, 
        originalPrice: 40000,
        desc: 'Sambel cumi segar dengan cabe rawit merah pilihan, cumi asin berkualitas tinggi.',
        img: 'Sambel Cumi.jpg',
        badge: 'NEW',
        rating: 4.9,
        ratingCount: 89,
        stock: 30,
        featured: true,
        details: 'Bahan: Cumi asin, cabai rawit merah, bawang merah, bawang putih, tomat, garam, gula, minyak. Berat: 200gr. Tingkat pedas: Sedang-Tinggi.'
      },
    ];

    // Data testimoni
    let testimonials = JSON.parse(localStorage.getItem('sambel_testimonials')) || [
      {
        id: 1,
        name: 'Ahmad Rizki',
        rating: 5,
        text: 'Sambel tongkolnya pedasnya pas, enak banget! Sudah 3x order, next mau coba sambel cumi.',
        date: '2 hari yang lalu',
        approved: true
      },
      {
        id: 2,
        name: 'Sari Dewi',
        rating: 5,
        text: 'Packing rapi, sampai dengan baik. Sambel cumi segar dan pedasnya nendang. Recommended!',
        date: '1 minggu yang lalu',
        approved: true
      },
      {
        id: 3,
        name: 'Budi Pratama',
        rating: 4,
        text: 'Pelayanan cepat, CS ramah. Sambel tongkol pedasnya bikin nagih, cocok buat makan nasi anget.',
        date: '3 hari yang lalu',
        approved: true
      }
    ];

    // Variabel global
    let cart = [];
    let currentFilter = 'all';
    let selectedPaymentMethod = null;
    let selectedShippingMethod = null;
    let shippingCost = 0;
    const shippingRates = {
      jne: 15000,
      jt: 12000
    };
    
    let orders = JSON.parse(localStorage.getItem('sambel_orders')) || [];
    const ADMIN_USERNAME = 'admin';
    const ADMIN_PASSWORD = 'admin123';
    let isAdminLoggedIn = localStorage.getItem('admin_logged_in') === 'true';
    let testimonialRating = 0;

    // ========== FUNGSI UTAMA ==========

    // Initialize floating cart count
    function updateFloatingCart() {
      const floatingCount = document.getElementById('floatingCartCount');
      const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
      floatingCount.textContent = totalQty;
      floatingCount.style.display = totalQty > 0 ? 'flex' : 'none';
    }

    // Fungsi untuk rating stars
    function renderStars(rating) {
      let stars = '';
      const fullStars = Math.floor(rating);
      const hasHalfStar = rating % 1 >= 0.5;
      
      for (let i = 0; i < 5; i++) {
        if (i < fullStars) {
          stars += '‚òÖ';
        } else if (i === fullStars && hasHalfStar) {
          stars += '‚Ø®';
        } else {
          stars += '‚òÜ';
        }
      }
      return `<span class="stars">${stars}</span>`;
    }

    // Fungsi untuk stock indicator
    function getStockIndicator(stock) {
      if (stock > 20) {
        return `<div class="product-stock stock-in">‚úì Stok: ${stock} pcs</div>`;
      } else if (stock > 0) {
        return `<div class="product-stock stock-low">‚ö† Stok: ${stock} pcs (tinggal sedikit)</div>`;
      } else {
        return `<div class="product-stock stock-out">‚úó Stok habis</div>`;
      }
    }

    // Fungsi untuk diskon
    function calculateDiscount(originalPrice, price) {
      const discount = Math.round(((originalPrice - price) / originalPrice) * 100);
      return discount > 0 ? `<div class="discount-badge">-${discount}%</div>` : '';
    }

    // Render products
    function renderProducts() {
      const grid = document.getElementById('productGrid');
      const searchTerm = document.getElementById('searchInput')?.value.toLowerCase() || '';
      
      let filtered = products;
      
      if (currentFilter !== 'all') {
        filtered = products.filter(p => 
          p.category === currentFilter || 
          p.subcategory === currentFilter
        );
      }
      
      const searched = filtered.filter(p => 
        p.name.toLowerCase().includes(searchTerm) || 
        p.desc.toLowerCase().includes(searchTerm) ||
        p.subcategory.toLowerCase().includes(searchTerm)
      );

      grid.innerHTML = searched.map(product => {
        const discountBadge = product.originalPrice > product.price 
          ? calculateDiscount(product.originalPrice, product.price)
          : '';
        
        const featuredBadge = product.featured 
          ? `<div class="featured-badge">‚≠ê FEATURED</div>`
          : '';
        
        const originalPriceDisplay = product.originalPrice > product.price
          ? `<span class="product-price-old">Rp ${product.originalPrice.toLocaleString('id-ID')}</span>`
          : '';
        
        return `
        <div class="product-card" onclick="showProductModal(${product.id})">
          ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
          ${discountBadge}
          ${featuredBadge}
          <button class="quick-view-btn" onclick="event.stopPropagation();showProductModal(${product.id})">üëÅÔ∏è Lihat Detail</button>
          <img src="${product.img}" alt="${product.name}" class="product-img" loading="lazy" />
          <div class="product-info">
            <div class="product-category">${product.category} ‚Ä¢ ${product.subcategory}</div>
            <div class="product-name">${product.name}</div>
            <div class="product-rating">
              ${renderStars(product.rating)}
              <span class="rating-count">${product.rating} (${product.ratingCount})</span>
            </div>
            ${getStockIndicator(product.stock)}
            <div class="product-desc">${product.desc}</div>
            <div class="product-footer">
              <div>
                <span class="product-price">Rp ${product.price.toLocaleString('id-ID')}</span>
                ${originalPriceDisplay}
              </div>
              <button class="add-cart-btn" onclick="event.stopPropagation();addToCart(${product.id})">+ Keranjang</button>
            </div>
          </div>
        </div>
      `}).join('');
      
      if (searched.length === 0) {
        grid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
            <div style="font-size: 48px; margin-bottom: 20px;">üòû</div>
            <h3>Produk tidak ditemukan</h3>
            <p>Coba gunakan kata kunci lain atau lihat kategori yang tersedia</p>
          </div>
        `;
      }
    }

    // Add to cart
    function addToCart(id) {
      const product = products.find(p => p.id === id);
      
      if (product.stock <= 0) {
        showNotification('‚ùå Maaf, stok produk ini sudah habis');
        return;
      }
      
      const existingItem = cart.find(item => item.id === id);
      
      if (existingItem) {
        if (existingItem.qty >= product.stock) {
          showNotification('‚ùå Stok tidak mencukupi untuk menambah jumlah');
          return;
        }
        existingItem.qty++;
      } else {
        cart.push({ ...product, qty: 1 });
      }
      
      updateCart();
      showNotification(`‚úÖ ${product.name} ditambahkan ke keranjang!`);
      
      // Visual feedback
      const button = event?.target;
      if (button) {
        button.textContent = '‚úì Ditambah';
        button.style.background = 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)';
        setTimeout(() => {
          button.textContent = '+ Keranjang';
          button.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        }, 1000);
      }
    }

    // Update cart
    function updateCart() {
      const cartList = document.getElementById('cartItemsList');
      const cartCount = document.getElementById('cartCount');
      const cartTotal = document.getElementById('cartTotal');
      const floatingCount = document.getElementById('floatingCartCount');
      
      const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
      cartCount.textContent = totalQty;
      floatingCount.textContent = totalQty;
      floatingCount.style.display = totalQty > 0 ? 'flex' : 'none';
      
      if (cart.length === 0) {
        cartList.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üõí</div>
            <p>Keranjang masih kosong</p>
            <p>Yuk mulai belanja!</p>
          </div>
        `;
        cartTotal.textContent = 'Rp 0';
        return;
      }
      
      cartList.innerHTML = cart.map((item, index) => `
        <div class="cart-item">
          <img src="${item.img}" alt="${item.name}" class="cart-item-img" />
          <div class="cart-item-info">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-price">Rp ${item.price.toLocaleString('id-ID')}</div>
            ${getStockIndicator(item.stock)}
            <div class="cart-item-controls">
              <button class="qty-btn" onclick="changeQty(${index}, -1)">-</button>
              <span class="qty-display">${item.qty}</span>
              <button class="qty-btn" onclick="changeQty(${index}, 1)">+</button>
              <button class="remove-btn" onclick="removeFromCart(${index})">Hapus</button>
            </div>
          </div>
        </div>
      `).join('');
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      cartTotal.textContent = 'Rp ' + total.toLocaleString('id-ID');
      updateFloatingCart();
    }

    // Change quantity
    function changeQty(index, change) {
      const item = cart[index];
      const product = products.find(p => p.id === item.id);
      
      if (change > 0 && item.qty + change > product.stock) {
        showNotification('‚ùå Stok tidak mencukupi. Stok tersedia: ' + product.stock);
        return;
      }
      
      cart[index].qty += change;
      if (cart[index].qty <= 0) {
        cart.splice(index, 1);
      }
      updateCart();
      calculateShipping();
    }

    // Remove from cart
    function removeFromCart(index) {
      const itemName = cart[index].name;
      cart.splice(index, 1);
      updateCart();
      showNotification(`${itemName} dihapus dari keranjang`);
    }

    // Toggle cart
    function toggleCart() {
      const sidebar = document.getElementById('cartSidebar');
      const overlay = document.getElementById('cartOverlay');
      sidebar.classList.toggle('open');
      overlay.classList.toggle('show');
      document.body.style.overflow = sidebar.classList.contains('open') ? 'hidden' : '';
    }

    // ========== PAYMENT FUNCTIONS ==========

    // Go to payment page
    function goToPayment() {
      if (cart.length === 0) {
        showNotification('Keranjang masih kosong!');
        return;
      }
      
      showPaymentPage();
      toggleCart();
      calculateShipping();
      updateOrderSummary();
    }

    // Show payment page
    function showPaymentPage() {
      document.getElementById('shopPage').style.display = 'none';
      document.getElementById('paymentPage').style.display = 'block';
      document.getElementById('adminPage').style.display = 'none';
      document.getElementById('testimonialModal').classList.remove('show');
      
      // Update navigation
      document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
      document.querySelector('.nav a:nth-child(2)').classList.add('active');
      
      updateOrderSummary();
      
      // Reset payment instructions
      document.getElementById('paymentInstructions').classList.remove('show');
      document.getElementById('bcaInstructions').style.display = 'none';
      document.getElementById('gopayInstructions').style.display = 'none';
      selectedPaymentMethod = null;
      selectedShippingMethod = null;
      document.querySelectorAll('.method-card').forEach(card => {
        card.classList.remove('selected');
      });
      document.querySelectorAll('.shipping-card').forEach(card => {
        card.classList.remove('selected');
      });
    }

    // Update order summary
    function updateOrderSummary() {
      const orderItems = document.getElementById('orderItems');
      const orderSubtotal = document.getElementById('orderSubtotal');
      const shippingCostEl = document.getElementById('shippingCost');
      const orderTotal = document.getElementById('orderTotal');
      
      if (cart.length === 0) {
        orderItems.innerHTML = '<p>Tidak ada item dalam pesanan</p>';
        orderSubtotal.textContent = 'Rp 0';
        shippingCostEl.textContent = 'Rp 0';
        orderTotal.textContent = 'Rp 0';
        return;
      }
      
      orderItems.innerHTML = cart.map(item => `
        <div class="order-item">
          <span>${item.name} (${item.qty}x)</span>
          <span>Rp ${(item.price * item.qty).toLocaleString('id-ID')}</span>
        </div>
      `).join('');
      
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      orderSubtotal.textContent = 'Rp ' + subtotal.toLocaleString('id-ID');
      shippingCostEl.textContent = 'Rp ' + shippingCost.toLocaleString('id-ID');
      
      const total = subtotal + shippingCost;
      orderTotal.textContent = 'Rp ' + total.toLocaleString('id-ID');
      
      // Update payment amounts
      document.getElementById('bcaAmount').textContent = 'Rp ' + total.toLocaleString('id-ID');
      document.getElementById('gopayAmount').textContent = 'Rp ' + total.toLocaleString('id-ID');
    }

    // Free shipping calculation
    function calculateShipping() {
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      if (subtotal >= 100000) {
        shippingCost = 0;
        showNotification('üéâ Selamat! Anda mendapatkan gratis ongkir!');
      } else {
        shippingCost = shippingRates[selectedShippingMethod] || 0;
      }
      updateOrderSummary();
    }

    // Select shipping method
    function selectShippingMethod(method) {
      selectedShippingMethod = method;
      
      // Remove selected class from all cards
      document.querySelectorAll('.shipping-card').forEach(card => {
        card.classList.remove('selected');
      });
      
      // Add selected class to clicked card
      event.currentTarget.classList.add('selected');
      
      // Calculate shipping with free shipping check
      calculateShipping();
    }

    // Select payment method
    function selectPaymentMethod(method) {
      selectedPaymentMethod = method;
      
      // Remove selected class from all cards
      document.querySelectorAll('.method-card').forEach(card => {
        card.classList.remove('selected');
      });
      
      // Add selected class to clicked card
      event.currentTarget.classList.add('selected');
      
      // Show payment instructions
      const instructions = document.getElementById('paymentInstructions');
      instructions.classList.add('show');
      
      // Show specific instructions
      if (method === 'bca') {
        document.getElementById('bcaInstructions').style.display = 'block';
        document.getElementById('gopayInstructions').style.display = 'none';
      } else if (method === 'gopay') {
        document.getElementById('bcaInstructions').style.display = 'none';
        document.getElementById('gopayInstructions').style.display = 'block';
      }
      
      // Update payment amounts
      updateOrderSummary();
    }

    // Process payment
    function processPayment() {
      const name = document.getElementById('customerName').value;
      const phone = document.getElementById('customerPhone').value;
      const address = document.getElementById('customerAddress').value;
      const note = document.getElementById('customerNote').value;
      
      if (!name || !phone || !address) {
        showNotification('Harap lengkapi data dengan tanda *!');
        return;
      }
      
      if (!selectedShippingMethod) {
        showNotification('Harap pilih metode pengiriman!');
        return;
      }
      
      if (!selectedPaymentMethod) {
        showNotification('Harap pilih metode pembayaran!');
        return;
      }
      
      // Check stock before processing
      for (const item of cart) {
        const product = products.find(p => p.id === item.id);
        if (product.stock < item.qty) {
          showNotification(`‚ùå Stok ${product.name} tidak mencukupi. Stok tersedia: ${product.stock}`);
          return;
        }
      }
      
      showLoading();
      
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      const total = subtotal + shippingCost;
      
      // Create order
      const orderId = 'ORD' + Date.now().toString().slice(-6);
      const order = {
        id: orderId,
        customerName: name,
        customerPhone: phone,
        customerAddress: address,
        customerNote: note,
        items: cart.map(item => ({
          name: item.name,
          price: item.price,
          quantity: item.qty,
          total: item.price * item.qty
        })),
        subtotal: subtotal,
        shippingCost: shippingCost,
        shippingMethod: selectedShippingMethod === 'jne' ? 'JNE' : 'J&T',
        totalAmount: total,
        paymentMethod: selectedPaymentMethod === 'bca' ? 'BCA' : 'GoPay',
        status: 'pending',
        orderDate: new Date().toLocaleString('id-ID'),
        paymentDate: null,
        deliveryDate: null
      };
      
      // Reduce stock
      cart.forEach(item => {
        const product = products.find(p => p.id === item.id);
        if (product) {
          product.stock -= item.qty;
        }
      });
      
      // Save order to localStorage
      orders.push(order);
      localStorage.setItem('sambel_orders', JSON.stringify(orders));
      
      // Update admin dashboard
      updateAdminDashboard();
      
      setTimeout(() => {
        hideLoading();
        showNotification('‚úÖ Pesanan #' + orderId + ' berhasil dibuat! Silakan lakukan pembayaran sesuai instruksi');
        
        // Reset cart and payment page
        cart = [];
        updateCart();
        
        // Reset form
        document.getElementById('customerName').value = '';
        document.getElementById('customerPhone').value = '';
        document.getElementById('customerAddress').value = '';
        document.getElementById('customerNote').value = '';
        
        // Show shop page
        showShopPage();
        renderProducts(); // Update product display dengan stock baru
      }, 2000);
    }

    // Order via WhatsApp
    function orderViaWhatsApp() {
      const name = document.getElementById('customerName').value;
      const phone = document.getElementById('customerPhone').value;
      const address = document.getElementById('customerAddress').value;
      const note = document.getElementById('customerNote').value;
      
      if (!name || !phone || !address) {
        showNotification('Harap lengkapi data dengan tanda *!');
        return;
      }
      
      if (!selectedShippingMethod) {
        showNotification('Harap pilih metode pengiriman!');
        return;
      }
      
      if (cart.length === 0) {
        showNotification('Keranjang masih kosong!');
        return;
      }
      
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      const total = subtotal + shippingCost;
      
      let message = 'Halo Sambel Simple, saya ingin memesan:\n\n';
      
      cart.forEach(item => {
        message += '- ' + item.name + ': ' + item.qty + ' x Rp ' + item.price.toLocaleString('id-ID') + ' = Rp ' + (item.price * item.qty).toLocaleString('id-ID') + '\n';
      });
      
      message += '\nSubtotal: Rp ' + subtotal.toLocaleString('id-ID');
      message += '\nOngkir (' + (selectedShippingMethod === 'jne' ? 'JNE' : 'J&T') + '): Rp ' + shippingCost.toLocaleString('id-ID');
      message += '\n*Total: Rp ' + total.toLocaleString('id-ID') + '*\n\n';
      message += 'Data Diri:\n';
      message += 'Nama: ' + name + '\n';
      message += 'No. WhatsApp: ' + phone + '\n';
      message += 'Alamat: ' + address + '\n';
      
      if (note) {
        message += 'Catatan: ' + note + '\n';
      }
      
      message += '\nMetode Pembayaran: ' + (selectedPaymentMethod ? (selectedPaymentMethod === 'bca' ? 'BCA' : 'GoPay') : 'Belum dipilih');
      message += '\nMetode Pengiriman: ' + (selectedShippingMethod === 'jne' ? 'JNE' : 'J&T');
      
      const encodedMessage = encodeURIComponent(message);
      const whatsappNumber = '6281234567890';
      const whatsappURL = 'https://wa.me/' + whatsappNumber + '?text=' + encodedMessage;
      
      window.open(whatsappURL, '_blank');
      
      // Create order record
      const orderId = 'ORD' + Date.now().toString().slice(-6);
      const order = {
        id: orderId,
        customerName: name,
        customerPhone: phone,
        customerAddress: address,
        customerNote: note,
        items: cart.map(item => ({
          name: item.name,
          price: item.price,
          quantity: item.qty,
          total: item.price * item.qty
        })),
        subtotal: subtotal,
        shippingCost: shippingCost,
        shippingMethod: selectedShippingMethod === 'jne' ? 'JNE' : 'J&T',
        totalAmount: total,
        paymentMethod: selectedPaymentMethod ? (selectedPaymentMethod === 'bca' ? 'BCA' : 'GoPay') : 'WhatsApp',
        status: 'pending',
        orderDate: new Date().toLocaleString('id-ID'),
        paymentDate: null,
        deliveryDate: null
      };
      
      orders.push(order);
      localStorage.setItem('sambel_orders', JSON.stringify(orders));
      
      // Reset cart
      cart = [];
      updateCart();
      
      showNotification('Pesanan via WhatsApp berhasil dibuat!');
    }

    // ========== ADMIN FUNCTIONS ==========

    // Show admin page
    function showAdminPage() {
      if (!isAdminLoggedIn) {
        showLoginModal();
        return;
      }
      
      document.getElementById('shopPage').style.display = 'none';
      document.getElementById('paymentPage').style.display = 'none';
      document.getElementById('adminPage').style.display = 'block';
      document.getElementById('testimonialModal').classList.remove('show');
      
      // Update navigation
      document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
      document.querySelector('.nav a:nth-child(3)').classList.add('active');
      
      // Update admin dashboard
      updateAdminDashboard();
    }

    // Update admin dashboard
    function updateAdminDashboard() {
      // Update stats
      const totalOrders = orders.length;
      const pendingOrders = orders.filter(order => order.status === 'pending').length;
      const paidOrders = orders.filter(order => order.status === 'paid').length;
      const deliveredOrders = orders.filter(order => order.status === 'delivered').length;
      
      document.getElementById('totalOrders').textContent = totalOrders;
      document.getElementById('pendingOrders').textContent = pendingOrders;
      document.getElementById('paidOrders').textContent = paidOrders;
      document.getElementById('deliveredOrders').textContent = deliveredOrders;
      
      // Update orders table
      const tableBody = document.getElementById('ordersTableBody');
      if (tableBody) {
        tableBody.innerHTML = orders.map(order => `
          <tr>
            <td>${order.id}</td>
            <td>${order.customerName}</td>
            <td>
              ${order.items.map(item => `${item.name} (${item.quantity}x)`).join('<br>')}
            </td>
            <td>Rp ${order.totalAmount.toLocaleString('id-ID')}</td>
            <td>
              <span class="status-badge status-${order.status}">
                ${getStatusText(order.status)}
              </span>
            </td>
            <td>${order.orderDate}</td>
            <td>
              <div class="action-buttons">
                ${order.status === 'pending' ? `
                  <button class="action-btn mark-paid" onclick="updateOrderStatus('${order.id}', 'paid')">
                    Tandai Lunas
                  </button>
                ` : ''}
                ${order.status === 'paid' ? `
                  <button class="action-btn mark-delivered" onclick="updateOrderStatus('${order.id}', 'delivered')">
                    Tandai Dikirim
                  </button>
                ` : ''}
                ${order.status !== 'cancelled' && order.status !== 'delivered' ? `
                  <button class="action-btn delete" onclick="updateOrderStatus('${order.id}', 'cancelled')">
                    Batalkan
                  </button>
                ` : ''}
              </div>
            </td>
          </tr>
        `).join('');
      }
      
      // Update testimonials table
      updateTestimonialsTable();
    }

    // Get status text
    function getStatusText(status) {
      const statusMap = {
        'pending': 'Menunggu Pembayaran',
        'paid': 'Lunas',
        'processing': 'Diproses',
        'delivered': 'Terkirim',
        'cancelled': 'Dibatalkan'
      };
      return statusMap[status] || status;
    }

    // Update order status
    function updateOrderStatus(orderId, newStatus) {
      const order = orders.find(o => o.id === orderId);
      if (order) {
        order.status = newStatus;
        
        if (newStatus === 'paid') {
          order.paymentDate = new Date().toLocaleString('id-ID');
        } else if (newStatus === 'delivered') {
          order.deliveryDate = new Date().toLocaleString('id-ID');
        }
        
        localStorage.setItem('sambel_orders', JSON.stringify(orders));
        updateAdminDashboard();
        
        showNotification('Status pesanan ' + orderId + ' diubah menjadi ' + getStatusText(newStatus));
      }
    }

    // Login admin
    function loginAdmin() {
      const username = document.getElementById('adminUsername').value;
      const password = document.getElementById('adminPassword').value;
      
      if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
        isAdminLoggedIn = true;
        localStorage.setItem('admin_logged_in', 'true');
        hideLoginModal();
        showAdminPage();
        showNotification('Login admin berhasil!');
      } else {
        document.getElementById('loginError').style.display = 'block';
      }
    }

    // Logout admin
    function logoutAdmin() {
      isAdminLoggedIn = false;
      localStorage.removeItem('admin_logged_in');
      showShopPage();
      showNotification('Logout admin berhasil!');
    }

    // ========== TESTIMONIAL FUNCTIONS ==========

    // Show testimonial modal
    function showTestimonialModal() {
      document.getElementById('testimonialModal').classList.add('show');
      testimonialRating = 0;
      updateStarRating();
    }

    // Close testimonial modal
    function closeTestimonialModal() {
      document.getElementById('testimonialModal').classList.remove('show');
      document.getElementById('testimonialName').value = '';
      document.getElementById('testimonialText').value = '';
      testimonialRating = 0;
      updateStarRating();
    }

    // Set testimonial rating
    function setTestimonialRating(rating) {
      testimonialRating = rating;
      updateStarRating();
    }

    // Update star rating display
    function updateStarRating() {
      const stars = document.querySelectorAll('.star-rating-input .star');
      stars.forEach((star, index) => {
        if (index < testimonialRating) {
          star.textContent = '‚òÖ';
          star.classList.add('selected');
        } else {
          star.textContent = '‚òÜ';
          star.classList.remove('selected');
        }
      });
    }

    // Submit testimonial
    function submitTestimonial() {
      const name = document.getElementById('testimonialName').value;
      const text = document.getElementById('testimonialText').value;
      
      if (!name || !text) {
        showNotification('Harap isi nama dan testimoni!');
        return;
      }
      
      if (testimonialRating === 0) {
        showNotification('Harap berikan rating!');
        return;
      }
      
      const testimonial = {
        id: Date.now(),
        name: name,
        rating: testimonialRating,
        text: text,
        date: new Date().toLocaleDateString('id-ID'),
        approved: false // Admin harus approve dulu
      };
      
      testimonials.unshift(testimonial);
      localStorage.setItem('sambel_testimonials', JSON.stringify(testimonials));
      
      closeTestimonialModal();
      loadTestimonials();
      showNotification('‚úÖ Testimoni berhasil dikirim! Menunggu persetujuan admin.');
    }

    // Load testimonials
    function loadTestimonials() {
      const testimonialGrid = document.getElementById('testimonialGrid');
      const approvedTestimonials = testimonials.filter(t => t.approved).slice(0, 6);
      
      if (approvedTestimonials.length === 0) {
        testimonialGrid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
            <div style="font-size: 48px; margin-bottom: 20px;">üí¨</div>
            <h3>Belum ada testimoni</h3>
            <p>Jadilah yang pertama memberikan testimoni!</p>
          </div>
        `;
        return;
      }
      
      testimonialGrid.innerHTML = approvedTestimonials.map(testimonial => `
        <div class="testimonial-card">
          <div class="testimonial-header">
            <div class="testimonial-avatar">${testimonial.name.charAt(0)}</div>
            <div>
              <div class="testimonial-name">${testimonial.name}</div>
              <div class="testimonial-date">${testimonial.date}</div>
            </div>
          </div>
          <div style="margin-bottom: 10px;">
            ${renderStars(testimonial.rating)}
          </div>
          <div class="testimonial-text">${testimonial.text}</div>
        </div>
      `).join('');
    }

    // Update testimonials table in admin
    function updateTestimonialsTable() {
      const tableBody = document.getElementById('testimonialsTableBody');
      if (tableBody) {
        tableBody.innerHTML = testimonials.map(testimonial => `
          <tr>
            <td>${testimonial.name}</td>
            <td>${renderStars(testimonial.rating)}</td>
            <td>${testimonial.text}</td>
            <td>${testimonial.date}</td>
            <td>
              <div class="action-buttons">
                ${!testimonial.approved ? `
                  <button class="action-btn mark-paid" onclick="approveTestimonial(${testimonial.id})">
                    Approve
                  </button>
                ` : ''}
                <button class="action-btn delete" onclick="deleteTestimonial(${testimonial.id})">
                  Hapus
                </button>
              </div>
            </td>
          </tr>
        `).join('');
      }
    }

    // Approve testimonial
    function approveTestimonial(id) {
      const testimonial = testimonials.find(t => t.id === id);
      if (testimonial) {
        testimonial.approved = true;
        localStorage.setItem('sambel_testimonials', JSON.stringify(testimonials));
        updateTestimonialsTable();
        loadTestimonials();
        showNotification('Testimoni berhasil disetujui!');
      }
    }

    // Delete testimonial
    function deleteTestimonial(id) {
      if (confirm('Apakah Anda yakin ingin menghapus testimoni ini?')) {
        testimonials = testimonials.filter(t => t.id !== id);
        localStorage.setItem('sambel_testimonials', JSON.stringify(testimonials));
        updateTestimonialsTable();
        loadTestimonials();
        showNotification('Testimoni berhasil dihapus!');
      }
    }

    // ========== PAGE NAVIGATION ==========

    // Show shop page
    function showShopPage() {
      document.getElementById('shopPage').style.display = 'block';
      document.getElementById('paymentPage').style.display = 'none';
      document.getElementById('adminPage').style.display = 'none';
      document.getElementById('testimonialModal').classList.remove('show');
      
      // Update navigation
      document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
      document.querySelector('.nav a:nth-child(1)').classList.add('active');
    }

    // Show login modal
    function showLoginModal() {
      document.getElementById('loginModal').classList.add('show');
    }

    // Hide login modal
    function hideLoginModal() {
      document.getElementById('loginModal').classList.remove('show');
      document.getElementById('adminUsername').value = '';
      document.getElementById('adminPassword').value = '';
      document.getElementById('loginError').style.display = 'none';
    }

    // ========== OTHER FUNCTIONS ==========

    // Show product modal
    function showProductModal(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      const discountBadge = product.originalPrice > product.price 
        ? calculateDiscount(product.originalPrice, product.price)
        : '';
      
      const originalPriceDisplay = product.originalPrice > product.price
        ? `<div style="text-decoration: line-through; color: #718096; font-size: 18px;">
            Rp ${product.originalPrice.toLocaleString('id-ID')}
           </div>`
        : '';
      
      const modalContent = document.getElementById('modalContent');
      modalContent.innerHTML = `
        <div style="padding: 30px;">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
            <div>
              <img src="${product.img}" alt="${product.name}" style="width: 100%; border-radius: 12px;">
            </div>
            <div>
              <h2 style="color: #2d3748; margin-bottom: 10px;">${product.name}</h2>
              <div style="color: #667eea; font-weight: 600; margin-bottom: 15px;">
                ${product.category} ‚Ä¢ ${product.subcategory}
              </div>
              
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                ${renderStars(product.rating)}
                <span style="color: #718096;">${product.rating} (${product.ratingCount} ulasan)</span>
              </div>
              
              ${getStockIndicator(product.stock)}
              
              <div style="margin: 20px 0;">
                <div style="font-size: 28px; font-weight: bold; color: #f5576c;">
                  Rp ${product.price.toLocaleString('id-ID')}
                </div>
                ${originalPriceDisplay}
              </div>
              
              <div style="margin: 20px 0;">
                <h3 style="color: #2d3748; margin-bottom: 10px;">Deskripsi</h3>
                <p style="color: #4a5568; line-height: 1.6;">${product.details}</p>
              </div>
              
              <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button style="flex: 1; background: #667eea; color: white; border: none; padding: 15px; border-radius: 25px; font-weight: 600; cursor: pointer;"
                        onclick="addToCart(${product.id}); closeProductModal();">
                  + Tambah ke Keranjang
                </button>
                <button style="flex: 1; background: #f5576c; color: white; border: none; padding: 15px; border-radius: 25px; font-weight: 600; cursor: pointer;"
                        onclick="addToCart(${product.id}); closeProductModal(); goToPayment();">
                  üõí Beli Sekarang
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      document.getElementById('productModal').classList.add('show');
    }

    // Close product modal
    function closeProductModal() {
      document.getElementById('productModal').classList.remove('show');
    }

    // Filter products
    function filterProducts(category) {
      currentFilter = category;
      
      // Update active class pada category cards
      document.querySelectorAll('.category-card').forEach(card => {
        card.classList.remove('active');
      });
      
      // Add active class to clicked category
      const categoryCards = document.querySelectorAll('.category-card');
      if (category === 'all') categoryCards[0].classList.add('active');
      else if (category === 'Sambal') categoryCards[1].classList.add('active');
      else if (category === 'Pedas') categoryCards[2].classList.add('active');
      else if (category === 'Seafood') categoryCards[3].classList.add('active');
      else if (category === 'Promo') categoryCards[4].classList.add('active');
      
      renderProducts();
    }

    // Toggle FAQ
    function toggleFAQ(index) {
      const faqItems = document.querySelectorAll('.faq-item');
      faqItems.forEach((item, i) => {
        if (i === index) {
          item.classList.toggle('active');
        } else {
          item.classList.remove('active');
        }
      });
    }

    // Copy to clipboard
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        showNotification('Berhasil disalin ke clipboard!');
      }).catch(err => {
        console.error('Gagal menyalin: ', err);
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        try {
          document.execCommand('copy');
          showNotification('Berhasil disalin!');
        } catch (err) {
          showNotification('Gagal menyalin, silakan copy manual');
        }
        document.body.removeChild(textArea);
      });
    }

    // Show loading
    function showLoading() {
      document.getElementById('loadingSpinner').classList.add('show');
    }

    // Hide loading
    function hideLoading() {
      document.getElementById('loadingSpinner').classList.remove('show');
    }

    // Show notification
    function showNotification(message) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notificationText');
      
      notificationText.textContent = message;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 4000);
    }

    // ========== INITIALIZATION ==========

    document.addEventListener('DOMContentLoaded', function() {
      // Check if admin is logged in
      isAdminLoggedIn = localStorage.getItem('admin_logged_in') === 'true';
      
      // Load testimonials
      testimonials = JSON.parse(localStorage.getItem('sambel_testimonials')) || testimonials;
      
      // Render products
      renderProducts();
      
      // Update cart
      updateCart();
      
      // Load orders
      orders = JSON.parse(localStorage.getItem('sambel_orders')) || [];
      
      // Load testimonials
      loadTestimonials();
      
      // Setup event listeners
      document.getElementById('searchInput')?.addEventListener('input', renderProducts);
      
      // Close modal when clicking outside
      document.getElementById('productModal')?.addEventListener('click', function(e) {
        if (e.target === this) {
          closeProductModal();
        }
      });
      
      document.getElementById('testimonialModal')?.addEventListener('click', function(e) {
        if (e.target === this) {
          closeTestimonialModal();
        }
      });
      
      document.getElementById('loginModal')?.addEventListener('click', function(e) {
        if (e.target === this) {
          hideLoginModal();
        }
      });
      
      // Escape key to close modal
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeProductModal();
          closeTestimonialModal();
          hideLoginModal();
        }
      });
      
      // Setup navigation
      document.querySelectorAll('.nav a').forEach((link, index) => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
          link.classList.add('active');
          
          if (index === 0) showShopPage();
          if (index === 1) showPaymentPage();
          if (index === 2) showAdminPage();
          if (index === 3) showTestimonialModal();
        });
      });
      
      // Enter key for login
      document.getElementById('adminPassword')?.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          loginAdmin();
        }
      });
    });
  </script>
</body>
</html>